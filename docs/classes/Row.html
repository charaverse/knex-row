<!DOCTYPE html><html class="default"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>Row | @charaverse/knex-row</title><meta name="description" content="Documentation for @charaverse/knex-row"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="../assets/style.css"/><link rel="stylesheet" href="../assets/highlight.css"/><script async src="../assets/search.js" id="search-script"></script></head><body><script>document.body.classList.add(localStorage.getItem("tsd-theme") || "os")</script><header><div class="tsd-page-toolbar"><div class="container"><div class="table-wrap"><div class="table-cell" id="tsd-search" data-base=".."><div class="field"><label for="tsd-search-field" class="tsd-widget search no-caption">Search</label><input type="text" id="tsd-search-field"/></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="../index.html" class="title">@charaverse/knex-row</a></div><div class="table-cell" id="tsd-widgets"><div id="tsd-filter"><a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a><div class="tsd-filter-group"><div class="tsd-select" id="tsd-filter-visibility"><span class="tsd-select-label">All</span><ul class="tsd-select-list"><li data-value="public">Public</li><li data-value="protected">Public/Protected</li><li data-value="private" class="selected">All</li></ul></div> <input type="checkbox" id="tsd-filter-inherited" checked/><label class="tsd-widget" for="tsd-filter-inherited">Inherited</label><input type="checkbox" id="tsd-filter-externals" checked/><label class="tsd-widget" for="tsd-filter-externals">Externals</label></div></div><a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a></div></div></div></div><div class="tsd-page-title"><div class="container"><ul class="tsd-breadcrumb"><li><a href="../modules.html">@charaverse/knex-row</a></li><li><a href="Row.html">Row</a></li></ul><h1>Class Row&lt;IdType&gt;</h1></div></div></header><div class="container container-main"><div class="row"><div class="col-8 col-content"><section class="tsd-panel tsd-comment"><div class="tsd-comment tsd-typography"><div class="lead">
<p>The class Row is intended to wrap over a Knex query row data and and a Knex
connection:</p>
</div><div><pre><code class="language-ts"><span class="hl-0">import</span><span class="hl-1"> </span><span class="hl-2">knex</span><span class="hl-1"> </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&quot;knex&quot;</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">conn</span><span class="hl-1"> = </span><span class="hl-8">knex</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-4">// database connection options</span><br/><span class="hl-1">})</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">tableName</span><span class="hl-1"> = </span><span class="hl-3">&quot;mytable&quot;</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> [</span><span class="hl-6">rowData</span><span class="hl-1">] = </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-8">conn</span><span class="hl-1">(</span><span class="hl-3">&quot;mytable&quot;</span><span class="hl-1">).</span><span class="hl-8">where</span><span class="hl-1">(</span><span class="hl-3">&quot;id&quot;</span><span class="hl-1">, </span><span class="hl-9">123</span><span class="hl-1">)</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">row</span><span class="hl-1"> = </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-8">Row</span><span class="hl-1">({ </span><span class="hl-2">conn</span><span class="hl-1">, </span><span class="hl-2">tableName</span><span class="hl-1">, </span><span class="hl-2">rowData</span><span class="hl-1"> })</span>
</code></pre>
<p>With the knowledge of table name and a connection to create queries, Row
is able to provide simple methods such as <a href="Row.html#setColumn">Row.setColumn</a> to update
column data and <a href="Row.html#deletePermanently">Row.deletePermanently</a> to delete row from table.</p>
</div></div></section><section class="tsd-panel tsd-type-parameters"><h3>Type parameters</h3><ul class="tsd-type-parameters"><li><h4>IdType<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">string</span> = <span class="tsd-signature-type">number</span></h4><div class="tsd-comment tsd-typography"><div class="lead">
<p>The type of identifier column (defaults to <code>number</code>)</p>
</div></div></li></ul></section><section class="tsd-panel tsd-hierarchy"><h3>Hierarchy</h3><ul class="tsd-hierarchy"><li><span class="target">Row</span></li></ul></section><section class="tsd-panel-group tsd-index-group"><h2>Index</h2><section class="tsd-panel tsd-index-panel"><div class="tsd-index-content"><section class="tsd-index-section "><h3>Constructors</h3><ul class="tsd-index-list"><li class="tsd-kind-constructor tsd-parent-kind-class tsd-has-type-parameter"><a href="Row.html#constructor" class="tsd-kind-icon">constructor</a></li></ul></section><section class="tsd-index-section "><h3>Accessors</h3><ul class="tsd-index-list"><li class="tsd-kind-accessor tsd-parent-kind-class"><a href="Row.html#connection" class="tsd-kind-icon">connection</a></li><li class="tsd-kind-get-signature tsd-parent-kind-class"><a href="Row.html#id" class="tsd-kind-icon">id</a></li><li class="tsd-kind-get-signature tsd-parent-kind-class"><a href="Row.html#isDeleted" class="tsd-kind-icon">is<wbr/>Deleted</a></li><li class="tsd-kind-get-signature tsd-parent-kind-class"><a href="Row.html#primaryKey" class="tsd-kind-icon">primary<wbr/>Key</a></li><li class="tsd-kind-get-signature tsd-parent-kind-class"><a href="Row.html#query" class="tsd-kind-icon">query</a></li><li class="tsd-kind-get-signature tsd-parent-kind-class"><a href="Row.html#timeCreated" class="tsd-kind-icon">time<wbr/>Created</a></li><li class="tsd-kind-get-signature tsd-parent-kind-class"><a href="Row.html#timeDeleted" class="tsd-kind-icon">time<wbr/>Deleted</a></li><li class="tsd-kind-get-signature tsd-parent-kind-class"><a href="Row.html#timeUpdated" class="tsd-kind-icon">time<wbr/>Updated</a></li></ul></section><section class="tsd-index-section "><h3>Methods</h3><ul class="tsd-index-list"><li class="tsd-kind-method tsd-parent-kind-class"><a href="Row.html#delete" class="tsd-kind-icon">delete</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="Row.html#deletePermanently" class="tsd-kind-icon">delete<wbr/>Permanently</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-has-type-parameter"><a href="Row.html#getColumn" class="tsd-kind-icon">get<wbr/>Column</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="Row.html#isColumn" class="tsd-kind-icon">is<wbr/>Column</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="Row.html#restore" class="tsd-kind-icon">restore</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="Row.html#setColumn" class="tsd-kind-icon">set<wbr/>Column</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="Row.html#setColumns" class="tsd-kind-icon">set<wbr/>Columns</a></li></ul></section></div></section></section><section class="tsd-panel-group tsd-member-group "><h2>Constructors</h2><section class="tsd-panel tsd-member tsd-kind-constructor tsd-parent-kind-class tsd-has-type-parameter"><a id="constructor" class="tsd-anchor"></a><h3>constructor</h3><ul class="tsd-signatures tsd-kind-constructor tsd-parent-kind-class tsd-has-type-parameter"><li class="tsd-signature tsd-kind-icon">new <wbr/>Row<span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">IdType</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">(</span>opts<span class="tsd-signature-symbol">: </span><a href="../interfaces/ConnectionOpts.html" class="tsd-signature-type" data-tsd-kind="Interface">ConnectionOpts</a><span class="tsd-signature-symbol"> &amp; </span><span class="tsd-signature-symbol">{ </span>idCol<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span>primaryCols<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">; </span>rowData<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">RowData</span><span class="tsd-signature-symbol">; </span>tableName<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span>timeCreatedCol<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span>timeDeletedCol<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span>timeUpdatedCol<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> }</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="Row.html" class="tsd-signature-type" data-tsd-kind="Class">Row</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">IdType</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/charaverse/knex-row/blob/860804c/src/row.ts#L85">row.ts:85</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Creates a new Row.</p>
</div><div><p>Options:</p>
<ul>
<li><code>tableName</code> <em>(required)</em>: the table of the row</li>
<li><code>rowData</code> <em>(required)</em>: the row data, usually from Knex query result</li>
<li><code>idCol</code>: the name of identifier column (default: <a href="../modules.html#ID_COL">ID_COL</a>)</li>
<li><code>timeCreatedCol</code>: the name of row created timestamp column (default: <a href="../modules.html#TIME_CREATED_COL">TIME_CREATED_COL</a>)</li>
<li><code>timeUpdatedCol</code>: the name of row updated timestamp column (default: <a href="../modules.html#TIME_UPDATED_COL">TIME_UPDATED_COL</a>)</li>
<li><code>timeDeletedCol</code>: the name of row deleted timestamp column (default: <a href="../modules.html#TIME_DELETED_COL">TIME_DELETED_COL</a>)</li>
<li><code>primaryCols</code>: the name of identifier column (default: <code>[idCol]</code>)</li>
</ul>
</div></div><h4 class="tsd-type-parameters-title">Type parameters</h4><ul class="tsd-type-parameters"><li><h4>IdType<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">number</span> = <span class="tsd-signature-type">number</span></h4><div class="tsd-comment tsd-typography"><div class="lead">
<p>The type of identifier column (defaults to <code>number</code>)</p>
</div></div></li></ul><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>opts: <a href="../interfaces/ConnectionOpts.html" class="tsd-signature-type" data-tsd-kind="Interface">ConnectionOpts</a><span class="tsd-signature-symbol"> &amp; </span><span class="tsd-signature-symbol">{ </span>idCol<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span>primaryCols<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">; </span>rowData<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">RowData</span><span class="tsd-signature-symbol">; </span>tableName<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span>timeCreatedCol<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span>timeDeletedCol<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span>timeUpdatedCol<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> }</span></h5></li></ul><h4 class="tsd-returns-title">Returns <a href="Row.html" class="tsd-signature-type" data-tsd-kind="Class">Row</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">IdType</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></section></section><section class="tsd-panel-group tsd-member-group "><h2>Accessors</h2><section class="tsd-panel tsd-member tsd-kind-accessor tsd-parent-kind-class"><a id="connection" class="tsd-anchor"></a><h3>connection</h3><ul class="tsd-signatures tsd-kind-accessor tsd-parent-kind-class"><li class="tsd-signature tsd-kind-icon"><span class="tsd-signature-symbol">get</span> connection<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="../modules.html#Connection" class="tsd-signature-type" data-tsd-kind="Type alias">Connection</a></li><li class="tsd-signature tsd-kind-icon"><span class="tsd-signature-symbol">set</span> connection<span class="tsd-signature-symbol">(</span>value<span class="tsd-signature-symbol">: </span><a href="../modules.html#Connection" class="tsd-signature-type" data-tsd-kind="Type alias">Connection</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/charaverse/knex-row/blob/860804c/src/row.ts#L127">row.ts:127</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Returns the Knex connection object associated with the row, or sets the
connection object to a new value.</p>
</div><div><p>If a falsy value is provided, the original connection object when the row
is first created will be used.</p>
</div></div><h4 class="tsd-returns-title">Returns <a href="../modules.html#Connection" class="tsd-signature-type" data-tsd-kind="Type alias">Connection</a></h4></li><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/charaverse/knex-row/blob/860804c/src/row.ts#L132">row.ts:132</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Returns the Knex connection object associated with the row, or sets the
connection object to a new value.</p>
</div><div><p>If a falsy value is provided, the original connection object when the row
is first created will be used.</p>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>value: <a href="../modules.html#Connection" class="tsd-signature-type" data-tsd-kind="Type alias">Connection</a></h5></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-get-signature tsd-parent-kind-class"><a id="id" class="tsd-anchor"></a><h3>id</h3><ul class="tsd-signatures tsd-kind-get-signature tsd-parent-kind-class"><li class="tsd-signature tsd-kind-icon"><span class="tsd-signature-symbol">get</span> id<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">IdType</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/charaverse/knex-row/blob/860804c/src/row.ts#L184">row.ts:184</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Alias for <code>this.getColumn&lt;IdType&gt;(this.idCol)</code>.</p>
</div></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type" data-tsd-kind="Type parameter">IdType</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-get-signature tsd-parent-kind-class"><a id="isDeleted" class="tsd-anchor"></a><h3>is<wbr/>Deleted</h3><ul class="tsd-signatures tsd-kind-get-signature tsd-parent-kind-class"><li class="tsd-signature tsd-kind-icon"><span class="tsd-signature-symbol">get</span> isDeleted<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">boolean</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/charaverse/knex-row/blob/860804c/src/row.ts#L261">row.ts:261</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Returns <code>true</code> if <code>this.timeDeleted</code> is truthy, <code>false</code> otherwise.</p>
</div><div><p>This accessor can be used for tables with &quot;soft-delete&quot; scenario, where
a time deleted timestamp column marks whether the row should be considered
as deleted.</p>
</div></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">boolean</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-get-signature tsd-parent-kind-class"><a id="primaryKey" class="tsd-anchor"></a><h3>primary<wbr/>Key</h3><ul class="tsd-signatures tsd-kind-get-signature tsd-parent-kind-class"><li class="tsd-signature tsd-kind-icon"><span class="tsd-signature-symbol">get</span> primaryKey<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">RowData</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/charaverse/knex-row/blob/860804c/src/row.ts#L233">row.ts:233</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Returns a subset of row data whose key is in <code>primaryCols</code>.</p>
</div><div><pre><code class="language-ts"><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">rowData</span><span class="hl-1"> = {</span><br/><span class="hl-1">  </span><span class="hl-2">foo_id:</span><span class="hl-1"> </span><span class="hl-9">123</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">bar_value:</span><span class="hl-1"> </span><span class="hl-3">&quot;abc&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">baz:</span><span class="hl-1"> </span><span class="hl-5">null</span><span class="hl-1">,</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">row</span><span class="hl-1"> = </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-8">Row</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-2">conn</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">table:</span><span class="hl-1"> </span><span class="hl-3">&quot;my_table&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">rowData</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">primaryCols:</span><span class="hl-1"> [</span><span class="hl-3">&quot;foo_id&quot;</span><span class="hl-1">, </span><span class="hl-3">&quot;bar_value&quot;</span><span class="hl-1">]</span><br/><span class="hl-1">})</span><br/><br/><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-8">log</span><span class="hl-1">(</span><span class="hl-2">row</span><span class="hl-1">.</span><span class="hl-2">primaryKey</span><span class="hl-1">)</span><br/><span class="hl-4">// { foo_id: 123, bar_value: &quot;abc&quot; }</span>
</code></pre>
<p>If the row data uses the actual column names, <code>primaryKey</code> can be used when
creating queries.</p>
</div></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">RowData</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-get-signature tsd-parent-kind-class"><a id="query" class="tsd-anchor"></a><h3>query</h3><ul class="tsd-signatures tsd-kind-get-signature tsd-parent-kind-class"><li class="tsd-signature tsd-kind-icon"><span class="tsd-signature-symbol">get</span> query<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">QueryBuilder</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/charaverse/knex-row/blob/860804c/src/row.ts#L250">row.ts:250</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Alias for <code>this.connection(this.tableName).where(this.primaryKey)</code>.</p>
</div><div><pre><code class="language-ts"><span class="hl-5">const</span><span class="hl-1"> [{ </span><span class="hl-6">name</span><span class="hl-1"> }] = </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-2">row</span><span class="hl-1">.</span><span class="hl-2">query</span><span class="hl-1">.</span><span class="hl-8">select</span><span class="hl-1">(</span><span class="hl-3">&quot;name&quot;</span><span class="hl-1">)</span>
</code></pre>
</div></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">QueryBuilder</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-get-signature tsd-parent-kind-class"><a id="timeCreated" class="tsd-anchor"></a><h3>time<wbr/>Created</h3><ul class="tsd-signatures tsd-kind-get-signature tsd-parent-kind-class"><li class="tsd-signature tsd-kind-icon"><span class="tsd-signature-symbol">get</span> timeCreated<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Date</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/charaverse/knex-row/blob/860804c/src/row.ts#L191">row.ts:191</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Alias for <code>this.getColumn&lt;Date&gt;(this.timeCreatedCol)</code>.</p>
</div></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Date</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-get-signature tsd-parent-kind-class"><a id="timeDeleted" class="tsd-anchor"></a><h3>time<wbr/>Deleted</h3><ul class="tsd-signatures tsd-kind-get-signature tsd-parent-kind-class"><li class="tsd-signature tsd-kind-icon"><span class="tsd-signature-symbol">get</span> timeDeleted<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Date</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/charaverse/knex-row/blob/860804c/src/row.ts#L205">row.ts:205</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Alias for <code>this.getColumn&lt;Date&gt;(this.timeDeletedCol)</code>.</p>
</div></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Date</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-get-signature tsd-parent-kind-class"><a id="timeUpdated" class="tsd-anchor"></a><h3>time<wbr/>Updated</h3><ul class="tsd-signatures tsd-kind-get-signature tsd-parent-kind-class"><li class="tsd-signature tsd-kind-icon"><span class="tsd-signature-symbol">get</span> timeUpdated<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Date</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/charaverse/knex-row/blob/860804c/src/row.ts#L198">row.ts:198</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Alias for <code>this.getColumn&lt;Date&gt;(this.timeUpdatedCol)</code>.</p>
</div></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Date</span></h4></li></ul></section></section><section class="tsd-panel-group tsd-member-group "><h2>Methods</h2><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class"><a id="delete" class="tsd-anchor"></a><h3>delete</h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class"><li class="tsd-signature tsd-kind-icon">delete<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/charaverse/knex-row/blob/860804c/src/row.ts#L298">row.ts:298</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Marks the row as soft-deleted, by setting the time deleted timestamp.</p>
</div></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class"><a id="deletePermanently" class="tsd-anchor"></a><h3>delete<wbr/>Permanently</h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class"><li class="tsd-signature tsd-kind-icon">delete<wbr/>Permanently<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/charaverse/knex-row/blob/860804c/src/row.ts#L313">row.ts:313</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Permanently removes a row from the table by executing a delete query.</p>
</div></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class tsd-has-type-parameter"><a id="getColumn" class="tsd-anchor"></a><h3>get<wbr/>Column</h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class tsd-has-type-parameter"><li class="tsd-signature tsd-kind-icon">get<wbr/>Column<span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">ValueType</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">(</span>col<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">ValueType</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/charaverse/knex-row/blob/860804c/src/row.ts#L171">row.ts:171</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Returns the value of the column from the row data.</p>
</div><div><p>If the column does not exist in the row data (i.e. <a href="Row.html#isColumn">Row.isColumn</a>
returns <code>false</code>), an error will be thrown.</p>
<p>The <code>ValueType</code> parameter allows the type to be inferred from usage, or
to be overridden if necessary:</p>
<pre><code class="language-ts"><span class="hl-4">// Type is inferred</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">myName</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1"> = </span><span class="hl-2">row</span><span class="hl-1">.</span><span class="hl-8">getColumn</span><span class="hl-1">(</span><span class="hl-3">&quot;name&quot;</span><span class="hl-1">)</span><br/><br/><span class="hl-4">// myName will be string</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">myName</span><span class="hl-1"> = </span><span class="hl-2">row</span><span class="hl-1">.</span><span class="hl-8">getColumn</span><span class="hl-1">&lt;</span><span class="hl-7">string</span><span class="hl-1">&gt;(</span><span class="hl-3">&quot;name&quot;</span><span class="hl-1">)</span>
</code></pre>
</div></div><h4 class="tsd-type-parameters-title">Type parameters</h4><ul class="tsd-type-parameters"><li><h4>ValueType<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">unknown</span></h4><div class="tsd-comment tsd-typography"><div class="lead">
<p>The expected column value type</p>
</div></div></li></ul><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>col: <span class="tsd-signature-type">string</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>The column name to be retrieved</p>
</div></div></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type" data-tsd-kind="Type parameter">ValueType</span></h4><div><p>The column value</p>
</div></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class"><a id="isColumn" class="tsd-anchor"></a><h3>is<wbr/>Column</h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class"><li class="tsd-signature tsd-kind-icon">is<wbr/>Column<span class="tsd-signature-symbol">(</span>col<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">boolean</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/charaverse/knex-row/blob/860804c/src/row.ts#L146">row.ts:146</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Checks if the column name exists on the provided row data.</p>
</div><div><p>Note that this is not necessarily the actual row data, because the column
may not be retrieved during query (e.g. <code>SELECT my_col FROM my_table</code>)
or the column may be aliased (e.g. <code>SELECT </code>my_col as col FROM my_table`).</p>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>col: <span class="tsd-signature-type">string</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>The column name to be checked</p>
</div></div></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">boolean</span></h4><div><p><code>true</code> if the column name exists on row data, <code>false</code> otherwise</p>
</div></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class"><a id="restore" class="tsd-anchor"></a><h3>restore</h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class"><li class="tsd-signature tsd-kind-icon">restore<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/charaverse/knex-row/blob/860804c/src/row.ts#L306">row.ts:306</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Unmarks the row from being soft-deleted, by setting the time deleted
timestamp to <code>NULL</code>.</p>
</div></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class"><a id="setColumn" class="tsd-anchor"></a><h3>set<wbr/>Column</h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class"><li class="tsd-signature tsd-kind-icon">set<wbr/>Column<span class="tsd-signature-symbol">(</span>col<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span>, value<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">unknown</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/charaverse/knex-row/blob/860804c/src/row.ts#L291">row.ts:291</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Alias for <code>this.setColumns({ [col]: value })</code>.</p>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>col: <span class="tsd-signature-type">string</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>The column name to be updated</p>
</div></div></li><li><h5>value: <span class="tsd-signature-type">unknown</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>The new column value</p>
</div></div></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class"><a id="setColumns" class="tsd-anchor"></a><h3>set<wbr/>Columns</h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class"><li class="tsd-signature tsd-kind-icon">set<wbr/>Columns<span class="tsd-signature-symbol">(</span>data<span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">{}</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/charaverse/knex-row/blob/860804c/src/row.ts#L270">row.ts:270</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Performs an update query and updates the row data.</p>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>data: <span class="tsd-signature-symbol">{}</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>An object whose keys are subset of row data keys that contains the new values</p>
</div></div><ul class="tsd-parameters"><li class="tsd-parameter-index-signature"><h5><span class="tsd-signature-symbol">[</span>key: <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">]: </span><span class="tsd-signature-type">RowValue</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">Knex.Raw</span></h5></li></ul></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></section></section></div><div class="col-4 col-menu menu-sticky-wrap menu-highlight"><nav class="tsd-navigation primary"><ul><li class=""><a href="../modules.html">Exports</a></li></ul></nav><nav class="tsd-navigation secondary menu-sticky"><ul><li class="current tsd-kind-class tsd-has-type-parameter"><a href="Row.html" class="tsd-kind-icon">Row</a><ul><li class="tsd-kind-constructor tsd-parent-kind-class tsd-has-type-parameter"><a href="Row.html#constructor" class="tsd-kind-icon">constructor</a></li><li class="tsd-kind-accessor tsd-parent-kind-class"><a href="Row.html#connection" class="tsd-kind-icon">connection</a></li><li class="tsd-kind-get-signature tsd-parent-kind-class"><a href="Row.html#id" class="tsd-kind-icon">id</a></li><li class="tsd-kind-get-signature tsd-parent-kind-class"><a href="Row.html#isDeleted" class="tsd-kind-icon">is<wbr/>Deleted</a></li><li class="tsd-kind-get-signature tsd-parent-kind-class"><a href="Row.html#primaryKey" class="tsd-kind-icon">primary<wbr/>Key</a></li><li class="tsd-kind-get-signature tsd-parent-kind-class"><a href="Row.html#query" class="tsd-kind-icon">query</a></li><li class="tsd-kind-get-signature tsd-parent-kind-class"><a href="Row.html#timeCreated" class="tsd-kind-icon">time<wbr/>Created</a></li><li class="tsd-kind-get-signature tsd-parent-kind-class"><a href="Row.html#timeDeleted" class="tsd-kind-icon">time<wbr/>Deleted</a></li><li class="tsd-kind-get-signature tsd-parent-kind-class"><a href="Row.html#timeUpdated" class="tsd-kind-icon">time<wbr/>Updated</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="Row.html#delete" class="tsd-kind-icon">delete</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="Row.html#deletePermanently" class="tsd-kind-icon">delete<wbr/>Permanently</a></li><li class="tsd-kind-method tsd-parent-kind-class tsd-has-type-parameter"><a href="Row.html#getColumn" class="tsd-kind-icon">get<wbr/>Column</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="Row.html#isColumn" class="tsd-kind-icon">is<wbr/>Column</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="Row.html#restore" class="tsd-kind-icon">restore</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="Row.html#setColumn" class="tsd-kind-icon">set<wbr/>Column</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="Row.html#setColumns" class="tsd-kind-icon">set<wbr/>Columns</a></li></ul></li></ul></nav></div></div></div><footer class="with-border-bottom"><div class="container"><h2>Legend</h2><div class="tsd-legend-group"><ul class="tsd-legend"><li class="tsd-kind-method tsd-parent-kind-class"><span class="tsd-kind-icon">Method</span></li><li class="tsd-kind-accessor tsd-parent-kind-class"><span class="tsd-kind-icon">Accessor</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-property tsd-parent-kind-interface"><span class="tsd-kind-icon">Property</span></li></ul></div><h2>Settings</h2><p>Theme <select id="theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></p></div></footer><div class="container tsd-generator"><p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></div><div class="overlay"></div><script src="../assets/main.js"></script></body></html>